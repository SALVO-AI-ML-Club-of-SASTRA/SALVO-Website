{% extends 'base.html' %}

{% block title %}Create Post - SALVO AI Club{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="ai-card animate-on-scroll" style="margin-top: 50px;">
                <div class="text-center mb-4">
                    <h2 class="code-font" style="color: var(--accent-green); margin-bottom: 15px;">
                        <i class="fas fa-pen me-2"></i>Neural Content Creator
                    </h2>
                    <p class="text-secondary fs-5">Share your AI insights with the community</p>
                </div>

                <form method="POST" class="px-2">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="title" class="form-label">
                            <i class="fas fa-heading me-2"></i>Post Title
                        </label>
                        <input type="text" class="form-control" id="title" name="title" 
                               placeholder="Enter an engaging title for your post..." required>
                    </div>
                    
                    <div class="mb-4">
                        <label for="content" class="form-label">
                            <i class="fas fa-edit me-2"></i>Content
                        </label>
                        <textarea class="form-control" id="content" name="content" rows="8" 
                                  placeholder="Share your thoughts, research, projects, or AI insights..." required></textarea>
                        <div class="form-text" style="color: var(--text-secondary);">
                            <i class="fas fa-info-circle me-1"></i>Express your ideas clearly and engage the community
                        </div>
                    </div>

                    <!-- AI Tag Suggestions -->
                    <div class="mb-4 p-3" style="background: var(--code-bg); border-radius: 10px; border: 1px solid var(--border-glow);">
                        <label class="form-label" style="color: var(--text-accent);">
                            <i class="fas fa-tags me-2"></i>AI Tag Suggestions
                        </label>
                        <div class="text-secondary mb-2">{{ Tags }}</div>
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('MachineLearning')">#MachineLearning</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('DeepLearning')">#DeepLearning</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('NLP')">#NLP</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('ComputerVision')">#ComputerVision</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('Python')">#Python</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('TensorFlow')">#TensorFlow</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('PyTorch')">#PyTorch</span>
                            <span class="badge" style="background: linear-gradient(45deg, var(--primary-purple), var(--primary-blue)) !important; cursor: pointer;" onclick="addTag('Research')">#Research</span>
                        </div>
                    </div>
                    
                    <div class="d-grid mb-4">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="fas fa-brain me-2"></i>Publish to Neural Feed
                        </button>
                    </div>
                </form>

                <div class="text-center">
                    {% if user_type == 'member' %}
                        <a href="/member_home/" class="btn btn-outline-secondary">
                            <i class="fas fa-arrow-left me-2"></i>Back to Dashboard
                        </a>
                    {% else %}
                        <a href="/account_home/" class="btn btn-outline-secondary">
                            <i class="fas fa-arrow-left me-2"></i>Back to Dashboard
                        </a>
                    {% endif %}
                </div>

                <!-- AI Code Snippet -->
                <div class="mt-4 p-3" style="background: var(--code-bg); border-radius: 10px; border: 1px solid var(--border-glow);">
                    <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        <div><span style="color: var(--neural-orange);">class</span> <span style="color: var(--data-yellow);">AIPost</span>:</div>
                        <div style="margin-left: 20px;"><span style="color: var(--neural-orange);">def</span> <span style="color: var(--data-yellow);">__init__</span>(<span style="color: var(--primary-cyan);">self</span>, title, content):</div>
                        <div style="margin-left: 40px;"><span style="color: var(--primary-cyan);">self</span>.title = title</div>
                        <div style="margin-left: 40px;"><span style="color: var(--primary-cyan);">self</span>.content = content</div>
                        <div style="margin-left: 40px;"><span style="color: var(--primary-cyan);">self</span>.tags = <span style="color: var(--data-yellow);">auto_tag</span>(<span style="color: var(--primary-cyan);">self</span>.content)</div>
                        <div style="margin-left: 40px;"><span style="color: var(--primary-cyan);">self</span>.engagement = <span style="color: var(--accent-green)">"high"</span></div>
                        <div style="color: var(--text-secondary);"># AI-powered content creation</div>
                    </div>
                </div>

                <!-- Writing Tips -->
                <div class="mt-4 p-4" style="background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(0, 255, 136, 0.1)); border-radius: 15px; border: 1px solid var(--border-glow);">
                    <h5 class="code-font text-center mb-3" style="color: var(--primary-cyan);">
                        <i class="fas fa-lightbulb me-2"></i>Content Creation Tips
                    </h5>
                    <div class="row g-3">
                        <div class="col-md-4 text-center">
                            <i class="fas fa-target" style="font-size: 2rem; color: var(--accent-green); margin-bottom: 10px;"></i>
                            <h6 class="code-font text-accent">Be Specific</h6>
                            <p class="text-secondary small">Focus on specific AI concepts, projects, or experiences</p>
                        </div>
                        <div class="col-md-4 text-center">
                            <i class="fas fa-share-alt" style="font-size: 2rem; color: var(--primary-cyan); margin-bottom: 10px;"></i>
                            <h6 class="code-font text-accent">Share Code</h6>
                            <p class="text-secondary small">Include code snippets, algorithms, or implementation details</p>
                        </div>
                        <div class="col-md-4 text-center">
                            <i class="fas fa-comments" style="font-size: 2rem; color: var(--neural-orange); margin-bottom: 10px;"></i>
                            <h6 class="code-font text-accent">Engage Others</h6>
                            <p class="text-secondary small">Ask questions and invite discussion from the community</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function addTag(tag) {
    const contentTextarea = document.getElementById('content');
    const currentContent = contentTextarea.value;
    
    // Add tag at the end if not already present
    if (!currentContent.includes('#' + tag)) {
        if (currentContent.trim()) {
            contentTextarea.value = currentContent + ' #' + tag;
        } else {
            contentTextarea.value = '#' + tag + ' ';
        }
    }
    
    // Focus back to textarea
    contentTextarea.focus();
}
</script>
{% endblock %}